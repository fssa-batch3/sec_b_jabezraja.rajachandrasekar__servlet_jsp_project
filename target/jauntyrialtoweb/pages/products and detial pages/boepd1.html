<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Shopping Site</title>
    <link rel="icon" href="../../assets/images/logo.jpg" type="image/x-icon">
    <link href="../../assets/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body id="mainco">

    <!-----Header Section----->
    <header id="hed"></header>
    <main>

        <div class="detail">
            <div class="left">
                <!-- <div class="image">
                        <img src="../../assets/images/products/cr1boe1.jpg" alt="boAt BassHeads 950v2 wired Over Ear Headphones (Warm Grey)" height="450px" width="400px" />
                     </div> -->
                <!--<div class="subi">
                        <div class="sub-images"> <img src="../../assets/images/products/cr1boe1.jpg" alt="boAt BassHeads 950v2 wired Over Ear Headphones (Warm Grey)"/>  </div>
                        <div class="sub-images"> <img src="../../assets/images/products/cr1boe1.1.jpg" alt="40mm driver"/> </div>
                        <div class="sub-images"> <img src="../../assets/images/products/cr1boe1.2.jpg" alt="lightweight"/> </div>
                        <div class="sub-images"> <img src="../../assets/images/products/cr1boe1.4.jpg" alt="3.5mm gold plated jack"/> </div> 
                    </div>-->
            </div>
            <div class="right">
                <h2 id="ph"> </h2>

                <p id="rupee"> </p>

                <small id="inc"> Inclusive of all taxes </small>

                <p>SELECT QUANITY</p>
                <div id="sq">
                    <a href="" class="quantity__minus">
                        <span>-</span>
                    </a>
                    <input type="text" id="incre_decre" class="sqb" value="1" readonly>
                    <a href="" class="quantity__plus">
                        <span>+</span>
                    </a>
                </div>

                <div class="addbuy"></div>

                <div class="">
                    <div class="fe">FEATURES</div>
                    <div class="febox">
                        <ul class="feboxul">
                            <li id="feboxli"></li>
                            <!-- <li id="feboxli">Soft Ear-Cushion</li>
                                    <li id="feboxli">Lightweight</li>
                                    <li id="feboxli">3.5mm Jack</li>
                                    <li id="feboxli">Inbuild mic</li> -->
                        </ul>
                    </div>
                    <div class="des">DESCRIPTION</div>
                    <div class="desbox">
                        <p id="dis"></p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-----Add Detials Start----->

    <section class="offers">
        <div>

            <img src="../../assets/images/products/ad1.png" alt="EASY RETURNS">

            <p>EASY RETURNS</p>
        </div>
        <div>

            <img src="../../assets/images/products/ad2.png" alt="CASH ON DELIVERY">
            <p>CASH ON DELIVERY</p>
        </div>
        <div>
            <img src="../../assets/images/products/ad3.png" alt="SECURE PAYMENT">
            <p>SECURE PAYMENT</p>
        </div>
        <div>
            <img src="../../assets/images/products/ad4.png" alt="FREE DELIVERY">
            <p>FREE DELIVERY</p>
        </div>
        <div>
            <img src="../../assets/images/products/ad5.png" alt="BEST QUALITY">
            <p>BEST QUALITY</p>
        </div>
        <div>
            <img src="../../assets/images/products/ad6.png" alt="CUSTOMER SERVICE">
            <p>CUSTOMER SERVICE</p>
        </div>
    </section>
    <!-----Add Detials End----->

    <!-----Footer Start----->
    <footer class="footer">
        <div class="footer-row">
            <div class="footer-col-1">
                <div class="footer-heading">
                    <p>ABOUT</p>
                </div>
                <div class="footer-list">
                    <a href="#">Contact Us</a>
                    <a href="#">About Us</a>

                    <a href="#">JAUNTY RIALTO Stories</a>
                    <a href="#">Press</a>
                    <a href="#">JR Wholesales</a>
                </div>
            </div>
            <div>
                <div class="footer-col-2">
                    <div class="footer-heading">
                        <p>HELP</p>
                    </div>
                    <div class="footer-list">
                        <a href="#">Payment</a>
                        <a href="#">Shipping</a>
                        <a href="#">Cancellation & Return</a>
                        <a href="#">FAQ</a>
                        <a href="#">Report Infringement</a>
                    </div>
                </div>
            </div>
            <div class="footer-col-3">
                <div class="footer-heading">
                    <p>POLICY</p>
                </div>
                <div class="footer-list">
                    <a href="#">Return Policy</a>
                    <a href="#">Terms of Use</a>
                    <a href="#">Security</a>
                    <a href="#">Privacy</a>
                    <a href="#">Sitemap</a>

                </div>
            </div>
            <div class="footer-col-4">
                <div class="footer-heading">
                    <p>SOCIAL</p>
                </div>
                <div class="footer-list">
                    <a href="#">Facebook</a>
                    <a href="#">Twitter</a>
                    <a href="#">Youtube</a>
                </div>
            </div>
            <div class="footer-col-5">
                <div class="footer-heading">
                    <p>MAIL US</p>
                </div>
                <div class="footer-list">
                    <p>Jaunty Rialto Internet Private Limited,
                        JR Block-K,Globel Techcity,
                        777, Kings Main Rd,
                        New York,USA</p>
                </div>
            </div>
            <div class="footer-col-6">
                <div class="footer-heading">
                    <p>Registered Office Address</p>
                </div>
                <div class="footer-list-address">
                    <p>Jaunty Rialto Internet Private Limited,</p>
                    <p>JR Block-K,Globel Techcity,</p>
                    <p>777, Kings Main Rd,</p>
                    <p>New York,USA</p>
                    <p>CIN : JR1109KJ2022PTC077107</p>
                    <p>
                        Telephone: <span>1800 777 9898</span>
                    </p>
                </div>
            </div>

        </div>
        <div class="footer-row2">
            <div class="footer-row2-col">
                <p>
                    <i class="fas fa-shopping-bag"></i>Sell On JR
                </p>
            </div>
            <div class="footer-row2-col">
                <p>
                    <i class="fas fa-star"></i>Advertise
                </p>
            </div>
            <div class="footer-row2-col">
                <p>
                    <i class="fas fa-gift"></i>Gift Cards
                </p>
            </div>
            <div class="footer-row2-col">
                <p>
                    <i class="fas fa-question-circle"></i>Help Center
                </p>
            </div>
            <div class="footer-row2-col">
                <p>© 2022-present JAUNTY RIALTO.com</p>
            </div>
            <div class="footer-row2-col">
                <img src="../../assets/images/footer/payment.png" alt="payments">
            </div>
        </div>

        </div>
    </footer>
    <!-----Footer End----->
    <script src="../../js/header.js"></script>
    <script src="/js/main.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        const pid = params.get("uid");

        // getting all products_details
        const p_data = JSON.parse(localStorage.getItem("products_details"));

        const p_detail = p_data.find(e => e.puid === pid);
        document.getElementById("ph").innerText = p_detail.product_name;
        document.getElementById("rupee").innerText = `₹${p_detail.price}`;
        document.getElementById("feboxli").innerText = p_detail.features;
        document.getElementById("dis").innerText = p_detail.description;

        const left_div = document.createElement("div");
        left_div.setAttribute("class", "left");
        document.querySelector("div.detail").prepend(left_div);

        const img_div = document.createElement("div");
        img_div.setAttribute("class", "image");
        left_div.append(img_div);

        const img_of_product = document.createElement("img");
        img_of_product.setAttribute("src", p_detail.image.main_img);
        img_of_product.setAttribute("height", "450px");
        img_of_product.setAttribute("width", "400px");
        img_of_product.setAttribute("class", "image");
        left_div.append(img_of_product);

        const img_of_subi = document.createElement("div");
        img_of_subi.setAttribute("class", "subi");
        left_div.append(img_of_subi);

        /// SUB IMAGE 1
        const img_of_sub1 = document.createElement("div");
        img_of_sub1.setAttribute("class", "sub-images");
        img_of_subi.append(img_of_sub1);

        const down_images1 = document.createElement("img");
        down_images1.setAttribute("src", p_detail.image.main_img);
        img_of_sub1.prepend(down_images1);

        /// SUB IMAGE 2
        const img_of_sub2 = document.createElement("div");
        img_of_sub2.setAttribute("class", "sub-images");
        img_of_subi.append(img_of_sub2);

        const down_images2 = document.createElement("img");
        down_images2.setAttribute("src", p_detail.image.sub_img1);
        img_of_sub2.prepend(down_images2);

        /// SUB IMAGE 3
        const img_of_sub3 = document.createElement("div");
        img_of_sub3.setAttribute("class", "sub-images");
        img_of_subi.append(img_of_sub3);

        const down_images3 = document.createElement("img");
        down_images3.setAttribute("src", p_detail.image.sub_img2);
        img_of_sub3.prepend(down_images3);

        /// SUB IMAGE 4
        const img_of_sub4 = document.createElement("div");
        img_of_sub4.setAttribute("class", "sub-images");
        img_of_subi.append(img_of_sub4);

        const down_images4 = document.createElement("img");
        down_images4.setAttribute("src", p_detail.image.sub_img3);
        img_of_sub4.prepend(down_images4);
        
     // Function to handle sub-image click event
        function handleSubImageClick(subImageSrc) {
            img_of_product.src = subImageSrc;
        }

        // Add event listeners to sub-images
        down_images1.addEventListener("click", () => {
            handleSubImageClick(p_detail.image.main_img);
        });

        down_images2.addEventListener("click", () => {
            handleSubImageClick(p_detail.image.sub_img1);
        });

        down_images3.addEventListener("click", () => {
            handleSubImageClick(p_detail.image.sub_img2);
        });

        down_images4.addEventListener("click", () => {
            handleSubImageClick(p_detail.image.sub_img3);
        });

        // Add to cart button

        const atc_btn = document.createElement("button");
        atc_btn.setAttribute("class", "add");
        atc_btn.setAttribute("custom-id", pid);
        atc_btn.innerText = "Add to Cart";

        // Whislist button
        const whishlist_btn = document.createElement("button");
        whishlist_btn.setAttribute("class", "buy");
        whishlist_btn.setAttribute("custom-id", pid);
        whishlist_btn.innerText = "Wishlist";
        document.querySelector(".addbuy").append(atc_btn, whishlist_btn);

        // ADD TO WHISLIST

        whishlist_btn.addEventListener("click", (event) => {
            const product_id = event.currentTarget.getAttribute("custom-id");

            const whishlist = JSON.parse(localStorage.getItem("whishlist_details")) || [];

            // getting current user details

            const sam = JSON.parse(localStorage.getItem("user_data"));

            if (!sam) {
                alert("Please Login");

            }
            else {
                for (let i = 0; i < whishlist.length; i++) {

                    if (product_id === whishlist[i].product_id && whishlist[i].sam === sam) {
                        alert("This item is already added");
                        window.location.href = "../cart/wishlist.html";
                        return;
                    }
                }
                alert("added to your wishlist");
                whishlist.push({ product_id, sam });
                localStorage.setItem("whishlist_details", JSON.stringify(whishlist));
                window.location.href = "../cart/wishlist.html";
            }
        });

        // ADD TO CART FUNCTION

        atc_btn.addEventListener("click", (event) => {
            const product_id = event.currentTarget.getAttribute("custom-id");

            const cart = JSON.parse(localStorage.getItem("cart_details"));

            // getting current user details

            const sam = JSON.parse(localStorage.getItem("user_data"));
            const incre_decre = document.getElementById("incre_decre")
            const p_qty = incre_decre.value;

            if (!sam) {
                alert("Please Login");

            }
            else {
                for (let i = 0; i < cart.length; i++) {

                    if (product_id === cart[i].product_id && cart[i].sam === sam) {
                        alert("This item is already added");
                        window.location.href = "../cart/cart.html";
                        return;
                    }
                }
                alert("added to your cart");
                cart.push({ product_id, sam, p_qty, current_price: p_detail.price});
                localStorage.setItem("cart_details", JSON.stringify(cart));
                window.location.href = "../cart/cart.html";
            }
        });

        // Increment/decrement counter

        document.addEventListener("DOMContentLoaded", () => {
            const minus = document.querySelector(".quantity__minus");
            const plus = document.querySelector(".quantity__plus");
            const input = document.querySelector(".sqb");

            const minValue = 1; // Minimum allowed value
            const maxValue = 12; // Maximum allowed value

            minus.addEventListener("click", (e) => {
                e.preventDefault();
                // eslint-disable-next-line radix
                let value = parseInt(input.value);
                if (value > minValue) {
                    value--;
                    //   console.log(value)
                }
                input.value = value;
            });

            plus.addEventListener("click", (e) => {
                e.preventDefault();
                // eslint-disable-next-line radix
                let value = parseInt(input.value);
                if (value < maxValue) {
                    value++;
                    //   console.log(value)
                    document.getElementById("plus-btn")
                }
                input.value = value;
            });
        });
    </script>
</body>

</html>